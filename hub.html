<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beb√© Arredondo von Oppersdorff üë∂</title>
    <style>
        :root {
            --primary: #2563eb;
            --success: #16a34a;
            --warning: #ca8a04;
            --danger: #dc2626;
            --bg: #ffffff;
            --card: #f8fafc;
            --card-hover: #f1f5f9;
            --text: #1e293b;
            --text-muted: #64748b;
            --border: #e2e8f0;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            line-height: 1.6;
        }
        .container { max-width: 900px; margin: 0 auto; padding: 20px; }
        
        .header {
            text-align: center;
            padding: 25px 0;
            border-bottom: 2px solid var(--border);
            margin-bottom: 25px;
        }
        .header h1 { font-size: 1.8em; color: var(--text); margin-bottom: 5px; }
        .header .subtitle { color: var(--text-muted); }
        .week-badge {
            display: inline-block;
            background: var(--primary);
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9em;
            margin-top: 12px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }
        .stat-card {
            background: var(--card);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            border: 1px solid var(--border);
        }
        .stat-number { font-size: 1.8em; font-weight: 700; color: var(--primary); }
        .stat-label { color: var(--text-muted); font-size: 0.85em; }
        
        .progress-container {
            background: var(--card);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
            border: 1px solid var(--border);
        }
        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.9em;
        }
        .progress-bar {
            height: 8px;
            background: var(--border);
            border-radius: 4px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: var(--primary);
            border-radius: 4px;
            transition: width 0.3s;
        }
        
        .priority-section {
            background: #fef2f2;
            border: 1px solid #fecaca;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
        }
        .priority-title { color: var(--danger); font-weight: 600; margin-bottom: 15px; }
        .priority-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }
        .priority-item {
            background: white;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }
        .priority-item h4 { font-size: 0.95em; margin-bottom: 4px; }
        .priority-item p { color: var(--text-muted); font-size: 0.85em; }
        
        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--border);
            padding-bottom: 10px;
        }
        .tab {
            padding: 10px 20px;
            background: transparent;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            color: var(--text-muted);
            transition: all 0.2s;
        }
        .tab:hover { background: var(--card); }
        .tab.active { background: var(--primary); color: white; }
        
        .section { display: none; }
        .section.active { display: block; }
        
        .timeline-week {
            background: var(--card);
            border-radius: 10px;
            padding: 15px 20px;
            margin-bottom: 10px;
            border: 1px solid var(--border);
        }
        .timeline-week.current { border-color: var(--primary); border-width: 2px; }
        .timeline-week.past { opacity: 0.5; }
        .week-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        .week-title { font-weight: 600; }
        .week-dates { color: var(--text-muted); font-size: 0.9em; }
        .week-tasks { display: flex; flex-wrap: wrap; gap: 6px; }
        .task-tag {
            background: white;
            border: 1px solid var(--border);
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 0.85em;
        }
        .task-tag.education { background: #eff6ff; border-color: #bfdbfe; color: #1d4ed8; }
        .task-tag.medical { background: #fef2f2; border-color: #fecaca; color: #dc2626; }
        .task-tag.purchase { background: #f0fdf4; border-color: #bbf7d0; color: #16a34a; }
        .task-tag.prep { background: #fefce8; border-color: #fef08a; color: #ca8a04; }
        
        .category-card {
            background: var(--card);
            border-radius: 10px;
            margin-bottom: 12px;
            border: 1px solid var(--border);
            overflow: hidden;
        }
        .category-header {
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .category-header:hover { background: var(--card-hover); }
        .category-title { font-weight: 600; }
        .category-body { display: none; padding: 0 20px 15px; }
        .category-body.open { display: block; }
        
        .product {
            display: flex;
            align-items: center;
            padding: 12px;
            background: white;
            border-radius: 8px;
            margin-bottom: 8px;
            border: 1px solid var(--border);
        }
        .product input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-right: 12px;
            accent-color: var(--primary);
        }
        .product-info { flex: 1; }
        .product-name { font-weight: 500; font-size: 0.95em; }
        .product-details { color: var(--text-muted); font-size: 0.8em; }
        .product-price { font-weight: 600; color: var(--success); margin: 0 10px; }
        .product-link {
            color: var(--primary);
            text-decoration: none;
            padding: 6px 12px;
            border-radius: 6px;
            background: #eff6ff;
            font-size: 0.85em;
        }
        .product-link:hover { background: var(--primary); color: white; }
        .product.checked { opacity: 0.5; }
        .product.checked .product-name { text-decoration: line-through; }
        
        .checklist-card {
            background: var(--card);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid var(--border);
        }
        .checklist-card h3 { font-size: 1em; margin-bottom: 12px; }
        .checklist-item {
            display: flex;
            align-items: center;
            padding: 10px;
            background: white;
            border-radius: 6px;
            margin-bottom: 6px;
            border: 1px solid var(--border);
        }
        .checklist-item input { margin-right: 10px; }
        .checklist-item label { flex: 1; font-size: 0.9em; }
        .checklist-item .note { color: var(--text-muted); font-size: 0.8em; margin-left: 8px; }
        .checklist-item .cost { background: var(--card); padding: 3px 8px; border-radius: 4px; font-size: 0.8em; }
        .checklist-item.checked { opacity: 0.5; }
        .checklist-item.checked label { text-decoration: line-through; }
        
        .export-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 10px;
            font-weight: 500;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
        }
        .export-btn:hover { background: #1d4ed8; }
        
        @media (max-width: 768px) {
            .stats-grid { grid-template-columns: repeat(2, 1fr); }
            .priority-grid { grid-template-columns: 1fr; }
            .tabs { flex-wrap: wrap; justify-content: center; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üë∂ Beb√© Arredondo von Oppersdorff</h1>
            <p class="subtitle">Centro de Preparaci√≥n</p>
            <div class="week-badge">Semana 26</div>
        </header>
        
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number" id="daysLeft">98</div>
                <div class="stat-label">D√≠as</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="itemsLeft">49</div>
                <div class="stat-label">Pendientes</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">$15K</div>
                <div class="stat-label">Estimado</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="completion">0%</div>
                <div class="stat-label">Completo</div>
            </div>
        </div>
        
        <div class="progress-container">
            <div class="progress-header">
                <span>Progreso</span>
                <span id="progressPercent">0%</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
            </div>
        </div>
        
        <div class="priority-section">
            <div class="priority-title">üî¥ Compras Prioritarias</div>
            <div class="priority-grid">
                <div class="priority-item">
                    <h4>üõèÔ∏è Cuna</h4>
                    <p>$1,449 - $2,885</p>
                </div>
                <div class="priority-item">
                    <h4>üßí Bassinet</h4>
                    <p>$559 - $2,659</p>
                </div>
                <div class="priority-item">
                    <h4>üöó Car Seat</h4>
                    <p>$1,559 - $6,999</p>
                </div>
            </div>
        </div>
        
        <div class="tabs">
            <button class="tab active" data-tab="timeline">üìÖ Timeline</button>
            <button class="tab" data-tab="shopping">üõí Compras</button>
            <button class="tab" data-tab="checklist">‚úÖ Checklist</button>
        </div>
        
        <div class="section active" id="timeline"></div>
        <div class="section" id="shopping"></div>
        <div class="section" id="checklist"></div>
    </div>
    
    <button class="export-btn" onclick="exportData()">üì• Exportar</button>

    <script>
        const timeline = [
            { week: 26, dates: "26 Ene - 1 Feb", tasks: [
                { text: "Doula Sandy", type: "education" },
                { text: "Doula Gaby", type: "education" },
                { text: "HIP Doula Lucy", type: "education" },
                { text: "IMSS inscripci√≥n", type: "medical" },
                { text: "Lab tests", type: "medical" },
                { text: "Pelota 75cm", type: "purchase" }
            ]},
            { week: 27, dates: "2 - 8 Feb", tasks: [
                { text: "Videos MOM Center", type: "education" },
                { text: "Cita IMSS", type: "medical" },
                { text: "Amazon #1", type: "purchase" }
            ]},
            { week: 28, dates: "9 - 15 Feb", tasks: [
                { text: "VACUNA", type: "medical" },
                { text: "Doula Sandy", type: "education" }
            ]},
            { week: 29, dates: "16 - 22 Feb", tasks: [
                { text: "Borrador PDN", type: "prep" },
                { text: "Dr. Edwin", type: "medical" }
            ]},
            { week: 30, dates: "23 Feb - 1 Mar", tasks: [
                { text: "BabyCenter App", type: "prep" },
                { text: "Amazon #2", type: "purchase" }
            ]},
            { week: 31, dates: "2 - 8 Mar", tasks: [{ text: "Plan Postparto", type: "prep" }]},
            { week: 32, dates: "9 - 15 Mar", tasks: []},
            { week: 33, dates: "16 - 22 Mar", tasks: [{ text: "Valores Familiares", type: "prep" }]},
            { week: 34, dates: "23 - 29 Mar", tasks: [{ text: "Curso online", type: "education" }]},
            { week: 35, dates: "30 Mar - 5 Abr", tasks: [{ text: "Tarjetas B/N", type: "purchase" }]},
            { week: 36, dates: "6 - 12 Abr", tasks: [{ text: "Docs Seguro", type: "prep" }, { text: "Hospital", type: "medical" }]},
            { week: 37, dates: "13 - 19 Abr", tasks: []},
            { week: 38, dates: "20 - 26 Abr", tasks: [{ text: "Dentista", type: "medical" }, { text: "Calostro", type: "medical" }]},
            { week: 39, dates: "27 Abr - 3 May", tasks: [{ text: "Calostro diario", type: "medical" }]},
            { week: 40, dates: "4 - 10 May", tasks: [{ text: "¬°Fecha estimada!", type: "prep" }]}
        ];

        const shopping = {
            cuna: { emoji: "üõèÔ∏è", title: "Cunas y Colecho", items: [
                { name: "Prinsel Baby Colecho Beige", details: "‚≠ê4.5 (886) ¬∑ Bestseller", price: "$1,449", link: "https://www.amazon.com.mx/dp/B07DQBYDPS", p: true },
                { name: "Dream On Me Synergy 5-in-1", details: "‚≠ê4.4 (3,023) ¬∑ Convertible", price: "$2,805", link: "https://www.amazon.com.mx/dp/B00EANJX5Q" },
                { name: "Muja Multifuncional + Mosquitero", details: "‚≠ê4.7 (105) ¬∑ Mecedora", price: "$2,659", link: "https://www.amazon.com.mx/dp/B0D2NP22Q2" }
            ]},
            bassinet: { emoji: "üßí", title: "Bassinet / Mois√©s", items: [
                { name: "CHIQUI MUNDO Camita Port√°til", details: "‚≠ê4.8 (1,191) ¬∑ Bestseller", price: "$559", link: "https://www.amazon.com.mx/dp/B0B4PJZ5Y5", p: true },
                { name: "Muja 2-en-1 Multifuncional", details: "‚≠ê4.5 (106) ¬∑ Con mecedora", price: "$2,885", link: "https://www.amazon.com.mx/dp/B0F13J6ZBH" }
            ]},
            carseat: { emoji: "üöó", title: "Car Seat", items: [
                { name: "INFANTI Nest Portabeb√©", details: "‚≠ê4.6 ¬∑ Hasta 13kg", price: "$1,559", link: "https://www.amazon.com.mx/dp/B095XQKP24", p: true },
                { name: "Safety 1st Grow and Go", details: "‚≠ê4.8 (2,500+) ¬∑ Convertible", price: "$3,999", link: "https://www.amazon.com.mx/dp/B019EFMJH8" },
                { name: "Safety 1st Evolve 360", details: "‚≠ê4.7 ¬∑ Giratorio", price: "$6,999", link: "https://www.amazon.com.mx/dp/B0BXKM6SPF" }
            ]},
            dormir: { emoji: "üò¥", title: "Dormir", items: [
                { name: "KeaBabies S√°banas Bamb√∫ (2)", details: "‚≠ê4.8 (1,200+)", price: "$549", link: "https://www.amazon.com.mx/dp/B0DFBVWVYC" },
                { name: "Memory Foam Colch√≥n 120x60", details: "‚≠ê4.7 ¬∑ Hecho en MX", price: "$1,079", link: "https://www.amazon.com.mx/dp/B081TDLS8M" },
                { name: "Protector Bamb√∫ Impermeable", details: "‚≠ê4.8 ¬∑ 18 certificaciones", price: "$549", link: "https://www.amazon.com.mx/dp/B0D7DMKZ1N" },
                { name: "Love to Dream Swaddle Up", details: "‚≠ê4.9 (5,000+)", price: "$799", link: "https://www.amazon.com.mx/dp/B07JN411WM" },
                { name: "Momcozy Mantas Muselina (4)", details: "‚≠ê4.8 (3,000+)", price: "$899", link: "https://www.amazon.com.mx/dp/B098NY9KW8" }
            ]},
            panales: { emoji: "üß∑", title: "Pa√±ales", items: [
                { name: "Huggies Supreme RN (40)", details: "‚≠ê4.9 (7,199)", price: "$159", link: "https://www.amazon.com.mx/dp/B01MSSUR4Q" },
                { name: "WaterWipes Sin Fragancia (540)", details: "‚≠ê4.7 (53,022) ¬∑ 99.9% agua", price: "$773", link: "https://www.amazon.com.mx/dp/B008KJQMA0" },
                { name: "Cambiador Port√°til Impermeable", details: "‚≠ê4.5", price: "$349", link: "https://www.amazon.com.mx/dp/B0BJ8C7GNH" },
                { name: "Desitin Fuerza M√°xima", details: "‚≠ê4.8 ¬∑ 40% zinc", price: "$159", link: "https://www.amazon.com.mx/dp/B00PS7G9XM" },
                { name: "Diaper Genie Signature", details: "‚≠ê4.7 (6,546)", price: "$1,599", link: "https://www.amazon.com.mx/dp/B0B9H9MTVY" }
            ]},
            alimentacion: { emoji: "üçº", title: "Alimentaci√≥n", items: [
                { name: "Philips Avent 3-en-1", details: "‚≠ê4.8 ¬∑ Esteriliza+seca", price: "$2,499", link: "https://www.amazon.com.mx/dp/B08FD8VRYZ" },
                { name: "Dr. Brown's Set Antic√≥licos", details: "‚≠ê4.8 (2,000+)", price: "$1,299", link: "https://www.amazon.com.mx/dp/B07SR5H23S" },
                { name: "Spectra S2 Extractor", details: "‚≠ê4.8 (15,000+) ¬∑ Hospitalario", price: "$4,999", link: "https://www.amazon.com.mx/dp/B00BLBLR1I" }
            ]},
            bano: { emoji: "üõÅ", title: "Ba√±o", items: [
                { name: "Bebbly Ba√±era + Sensor Temp", details: "‚≠ê4.8 (1,500+)", price: "$598", link: "https://www.amazon.com.mx/dp/B0CKS73X73" },
                { name: "Burts Bees Toallas (2)", details: "‚≠ê4.9 ¬∑ Algod√≥n org√°nico", price: "$699", link: "https://www.amazon.com.mx/dp/B00KNJDRIW" },
                { name: "Cetaphil Baby Wash 399ml", details: "‚≠ê4.8 (8,000+)", price: "$379", link: "https://www.amazon.com.mx/dp/B09JL9NGMB" }
            ]},
            transporte: { emoji: "üö∂", title: "Transporte", items: [
                { name: "Infanti Take it Compacta", details: "‚≠ê4.7 (1,200+)", price: "$2,999", link: "https://www.amazon.com.mx/dp/B07N14FZBF" },
                { name: "V√≠a L√°ctea Fular Ergon√≥mico", details: "‚≠ê4.8 ¬∑ Hecho en MX", price: "$549", link: "https://www.amazon.com.mx/dp/B0D4XMDQDT" }
            ]},
            salud: { emoji: "üè•", title: "Salud", items: [
                { name: "iHealth Term√≥metro 3-en-1", details: "‚≠ê4.7 ¬∑ Sin contacto", price: "$1,050", link: "https://www.amazon.com.mx/dp/B0C8JGQSGN" },
                { name: "HelloBaby Monitor 4\"", details: "‚≠ê4.3 ¬∑ Sin WiFi", price: "$1,215", link: "https://www.amazon.com.mx/dp/B0BL3NPJNC" }
            ]}
        };

        const checklist = {
            high: [
                { t: "Cepillo para biberones", c: "$80-150" },
                { t: "Bolsas pa√±ales sucios", n: "Con fragancia", c: "$100-200" },
                { t: "Burp cloths (6-10)", c: "$200-400" },
                { t: "Vaselina", n: "Term√≥metro rectal", c: "$50-100" },
                { t: "Gel antibacterial", c: "$50-100" }
            ],
            medium: [
                { t: "Aceite beb√©", n: "Costra l√°ctea", c: "$150-250" },
                { t: "Cepillo cabello suave", c: "$80-150" },
                { t: "Crema masaje", c: "$150-300" },
                { t: "Bouncy seat", c: "$800-2,000" },
                { t: "Sombrero con ala", c: "$150-300" },
                { t: "Chup√≥n", n: "Opcional", c: "$150-300" }
            ],
            prep: [
                { t: "Zona biberones en cocina" },
                { t: "Stock limpieza 6+ semanas" },
                { t: "Comidas congeladas", n: "Antes sem 36" },
                { t: "Provisiones visitas" },
                { t: "Pendientes de casa" }
            ]
        };

        const currentWeek = 26;

        function render() {
            document.getElementById('timeline').innerHTML = timeline.map(w => `
                <div class="timeline-week ${w.week === currentWeek ? 'current' : ''} ${w.week < currentWeek ? 'past' : ''}">
                    <div class="week-header">
                        <span class="week-title">Semana ${w.week}${w.week === currentWeek ? ' ‚Üê Actual' : ''}</span>
                        <span class="week-dates">${w.dates}</span>
                    </div>
                    <div class="week-tasks">${w.tasks.length ? w.tasks.map(t => `<span class="task-tag ${t.type}">${t.text}</span>`).join('') : '<span class="task-tag">‚Äî</span>'}</div>
                </div>
            `).join('');

            document.getElementById('shopping').innerHTML = Object.entries(shopping).map(([k, c]) => `
                <div class="category-card">
                    <div class="category-header" onclick="this.nextElementSibling.classList.toggle('open')">
                        <span class="category-title">${c.emoji} ${c.title}</span>
                        <span>${c.items.length} items</span>
                    </div>
                    <div class="category-body">${c.items.map((it, i) => `
                        <div class="product" id="p-${k}-${i}">
                            <input type="checkbox" onchange="toggle('p-${k}-${i}')">
                            <div class="product-info">
                                <div class="product-name">${it.p ? '‚≠ê ' : ''}${it.name}</div>
                                <div class="product-details">${it.details}</div>
                            </div>
                            <div class="product-price">${it.price}</div>
                            <a href="${it.link}" target="_blank" class="product-link">Ver</a>
                        </div>
                    `).join('')}</div>
                </div>
            `).join('');

            const cl = (items, id, title) => `
                <div class="checklist-card"><h3>${title}</h3>
                ${items.map((it, i) => `
                    <div class="checklist-item" id="c-${id}-${i}">
                        <input type="checkbox" onchange="toggle('c-${id}-${i}')">
                        <label>${it.t}</label>
                        ${it.n ? `<span class="note">${it.n}</span>` : ''}
                        ${it.c ? `<span class="cost">${it.c}</span>` : ''}
                    </div>
                `).join('')}</div>`;
            document.getElementById('checklist').innerHTML = 
                cl(checklist.high, 'h', 'üî¥ D√≠a 1') + 
                cl(checklist.medium, 'm', 'üü° Primeras semanas') + 
                cl(checklist.prep, 'p', 'üìã Preparativos');
        }

        function toggle(id) {
            const el = document.getElementById(id);
            el.classList.toggle('checked');
            save(); stats();
        }

        function stats() {
            const total = document.querySelectorAll('.product, .checklist-item').length;
            const done = document.querySelectorAll('.product.checked, .checklist-item.checked').length;
            const pct = Math.round((done / total) * 100);
            document.getElementById('itemsLeft').textContent = total - done;
            document.getElementById('completion').textContent = pct + '%';
            document.getElementById('progressPercent').textContent = pct + '%';
            document.getElementById('progressFill').style.width = pct + '%';
        }

        function save() {
            localStorage.setItem('bebe-avo', JSON.stringify([...document.querySelectorAll('.checked')].map(e => e.id)));
        }

        function load() {
            const s = localStorage.getItem('bebe-avo');
            if (s) JSON.parse(s).forEach(id => {
                const el = document.getElementById(id);
                if (el) { el.classList.add('checked'); el.querySelector('input').checked = true; }
            });
        }

        function exportData() {
            let csv = 'Producto,Precio,Estado,Link\n';
            Object.values(shopping).forEach(c => c.items.forEach((it, i) => {
                const done = document.getElementById(`p-${Object.keys(shopping).find(k => shopping[k] === c)}-${i}`).classList.contains('checked') ? 'Comprado' : 'Pendiente';
                csv += `"${it.name}","${it.price}","${done}","${it.link}"\n`;
            }));
            const a = document.createElement('a');
            a.href = URL.createObjectURL(new Blob([csv], { type: 'text/csv' }));
            a.download = `Bebe_AVO_${new Date().toISOString().slice(0,10)}.csv`;
            a.click();
        }

        document.querySelectorAll('.tab').forEach(t => t.onclick = () => {
            document.querySelectorAll('.tab, .section').forEach(e => e.classList.remove('active'));
            t.classList.add('active');
            document.getElementById(t.dataset.tab).classList.add('active');
        });

        render(); load(); stats();
    </script>
</body>
</html>
